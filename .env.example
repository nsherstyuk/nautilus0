# Example environment configuration for TradingSystem
# Do not store real credentials in this file. Copy to .env and edit locally.

# Interactive Brokers (IBKR) Gateway/TWS connection
# Paper trading typically uses port 7497 for TWS or 4002 for IB Gateway
IB_HOST=127.0.0.1
IB_PORT=7497
IB_CLIENT_ID=1
IB_ACCOUNT_ID=DU123456
# Market data type: REALTIME, DELAYED, DELAYED_FROZEN
# DELAYED_FROZEN works without live data subscriptions for paper trading
IB_MARKET_DATA_TYPE=DELAYED_FROZEN

# Data ingestion parameters
# Supports stocks (SPY, QQQ) and forex pairs (EUR/USD, GBP/JPY)
DATA_START_DATE=2024-01-01
DATA_END_DATE=2024-12-31
DATA_SYMBOLS=SPY,QQQ,IWM
# For forex: DATA_SYMBOLS=EUR/USD,GBP/USD,USD/JPY
# Note: Forex data is available 24/5 (Sunday 5pm - Friday 5pm EST)

# Logging
LOG_LEVEL=INFO
LOG_DIR=logs

# Application environment
APP_ENV=development

# Backtesting parameters
# Backtests read from a ParquetDataCatalog at CATALOG_PATH (not CSV files)
# NautilusTrader v1.220.0 requires bar specs to include an aggregation source suffix.
# Format: <STEP>-<AGGREGATION>-<PRICE>-<SOURCE>, e.g. 1-MINUTE-MID-EXTERNAL for catalog files.
# Use "-EXTERNAL" for historical datasets persisted to ParquetDataCatalog; use "-INTERNAL"
# when requesting of live aggregation from venue feeds.
BACKTEST_SYMBOL=SPY
BACKTEST_VENUE=SMART
BACKTEST_START_DATE=2024-01-01
BACKTEST_END_DATE=2024-03-31
BACKTEST_BAR_SPEC=1-MINUTE-LAST-EXTERNAL
BACKTEST_FAST_PERIOD=10
BACKTEST_SLOW_PERIOD=20
BACKTEST_TRADE_SIZE=100
BACKTEST_STARTING_CAPITAL=100000.0
CATALOG_PATH=data/historical
OUTPUT_DIR=logs/backtest_results
# Position management rules
ENFORCE_POSITION_LIMIT=true
ALLOW_POSITION_REVERSAL=false

# ============================================================================
# FOREX TRADING CONFIGURATION (EUR/USD Example)
# ============================================================================
# To trade forex pairs, use the following configuration:
# - Symbol format: BASE/QUOTE (e.g., EUR/USD, GBP/JPY)
# - Venue: IDEALPRO (IBKR's institutional forex venue)
# - Trade size: 100000 = 1 standard lot, 10000 = 1 mini lot, 1000 = 1 micro lot
# - Price precision: 5 decimals (e.g., 1.08234)
# - Pip value: For EUR/USD, 1 pip (0.0001) = $10 per standard lot

# Forex Backtesting Parameters (EUR/USD)
# BACKTEST_SYMBOL=EUR/USD
# BACKTEST_VENUE=IDEALPRO
# BACKTEST_START_DATE=2024-01-01
# BACKTEST_END_DATE=2024-03-31
# BACKTEST_BAR_SPEC=1-MINUTE-MID-EXTERNAL
# BACKTEST_FAST_PERIOD=10
# BACKTEST_SLOW_PERIOD=20
# BACKTEST_TRADE_SIZE=100000          # 1 standard lot = 100,000 units
# BACKTEST_STARTING_CAPITAL=100000.0  # $100k starting capital
# CATALOG_PATH=data/historical
# OUTPUT_DIR=logs/backtest_results
# ENFORCE_POSITION_LIMIT=true
# ALLOW_POSITION_REVERSAL=false

# Live Trading Parameters (Paper Trading Mode)
# These settings are used when running live/run_live.py
# Ensure TWS or IB Gateway is running before starting live trading
LIVE_SYMBOL=SPY
LIVE_VENUE=SMART
LIVE_BAR_SPEC=1-MINUTE-LAST-EXTERNAL
LIVE_FAST_PERIOD=10
LIVE_SLOW_PERIOD=20
LIVE_TRADE_SIZE=100
LIVE_ENFORCE_POSITION_LIMIT=true
LIVE_ALLOW_POSITION_REVERSAL=false
LIVE_LOG_DIR=logs/live
LIVE_TRADER_ID=LIVE-TRADER-001

# ============================================================================
# FOREX LIVE TRADING (EUR/USD Example)
# ============================================================================
# Live Forex Trading Parameters (EUR/USD)
# LIVE_SYMBOL=EUR/USD
# LIVE_VENUE=IDEALPRO
# LIVE_BAR_SPEC=1-MINUTE-MID-EXTERNAL
# LIVE_FAST_PERIOD=10
# LIVE_SLOW_PERIOD=20
# LIVE_TRADE_SIZE=100000              # 1 standard lot = 100,000 units
# LIVE_ENFORCE_POSITION_LIMIT=true
# LIVE_ALLOW_POSITION_REVERSAL=false
# LIVE_LOG_DIR=logs/live
# LIVE_TRADER_ID=LIVE-TRADER-001

# ============================================================================
# FOREX POSITION SIZING REFERENCE
# ============================================================================
# Standard Lot:  100,000 units (TRADE_SIZE=100000)
# Mini Lot:       10,000 units (TRADE_SIZE=10000)
# Micro Lot:       1,000 units (TRADE_SIZE=1000)
#
# Example: EUR/USD at 1.0850
# - 1 standard lot (100,000) = $108,500 notional value
# - 1 pip move (0.0001) = $10 profit/loss
# - 10 pip move = $100 profit/loss
#
# Margin requirement (example with 50:1 leverage):
# - 1 standard lot requires ~$2,000 margin
# - Ensure sufficient capital to cover margin + drawdowns
