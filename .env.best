# NautilusTrader Optimal Configuration
# Based on best backtest result: $14,203.91 PnL, 60% win rate, 85 trades
# Source: optimization/results/multi_tf_combined_results_summary.json (run_id: 28)
# Generated: 2025-11-13

# =============================================================================
# BACKTESTING PARAMETERS
# =============================================================================

# Required Variables
BACKTEST_SYMBOL=EUR/USD
BACKTEST_START_DATE=2024-01-01
BACKTEST_END_DATE=2024-12-31

# Optional Variables with Defaults
BACKTEST_VENUE=IDEALPRO
BACKTEST_BAR_SPEC=1-MINUTE-MID-EXTERNAL
BACKTEST_FAST_PERIOD=42
BACKTEST_SLOW_PERIOD=270
BACKTEST_TRADE_SIZE=100
BACKTEST_STARTING_CAPITAL=100000.0
CATALOG_PATH=data/historical
OUTPUT_DIR=logs/backtest_results
ENFORCE_POSITION_LIMIT=true
ALLOW_POSITION_REVERSAL=false

# Stop Loss and Take Profit Configuration (from best result)
BACKTEST_STOP_LOSS_PIPS=35
BACKTEST_TAKE_PROFIT_PIPS=50

# Trailing Stop Configuration (from best result)
BACKTEST_TRAILING_STOP_ACTIVATION_PIPS=22
BACKTEST_TRAILING_STOP_DISTANCE_PIPS=12

# ============================================================================
# STRATEGY FILTER CONFIGURATION
# ============================================================================

# Crossover threshold filter (from best result)
STRATEGY_CROSSOVER_THRESHOLD_PIPS=0.35

# DMI filter (enabled in best result)
STRATEGY_DMI_ENABLED=true
STRATEGY_DMI_BAR_SPEC=2-MINUTE-MID-EXTERNAL
STRATEGY_DMI_PERIOD=10

# Stochastic filter (enabled in best result)
STRATEGY_STOCH_ENABLED=true
STRATEGY_STOCH_BAR_SPEC=15-MINUTE-MID-EXTERNAL
STRATEGY_STOCH_PERIOD_K=18
STRATEGY_STOCH_PERIOD_D=3
STRATEGY_STOCH_BULLISH_THRESHOLD=30
STRATEGY_STOCH_BEARISH_THRESHOLD=65

# Trend filter (disabled in best result)
STRATEGY_TREND_FILTER_ENABLED=false

# Entry timing (disabled in best result)
STRATEGY_ENTRY_TIMING_ENABLED=false

# Other filters (disabled)
STRATEGY_RSI_ENABLED=false
STRATEGY_VOLUME_ENABLED=false
STRATEGY_ATR_ENABLED=false

# ============================================================================
# MARKET REGIME DETECTION
# ============================================================================
# Disabled in best result - enable if you want to test regime-based adjustments
STRATEGY_REGIME_DETECTION_ENABLED=false
STRATEGY_REGIME_ADX_TRENDING_THRESHOLD=25.0
STRATEGY_REGIME_ADX_RANGING_THRESHOLD=20.0
STRATEGY_REGIME_TP_MULTIPLIER_TRENDING=1.5
STRATEGY_REGIME_TP_MULTIPLIER_RANGING=0.8
STRATEGY_REGIME_SL_MULTIPLIER_TRENDING=1.0
STRATEGY_REGIME_SL_MULTIPLIER_RANGING=1.0
STRATEGY_REGIME_TRAILING_ACTIVATION_MULTIPLIER_TRENDING=0.75
STRATEGY_REGIME_TRAILING_ACTIVATION_MULTIPLIER_RANGING=1.25
STRATEGY_REGIME_TRAILING_DISTANCE_MULTIPLIER_TRENDING=0.67
STRATEGY_REGIME_TRAILING_DISTANCE_MULTIPLIER_RANGING=1.33

# ============================================================================
# TIME FILTER (Trading Hours)
# ============================================================================
# Not used in optimization, but recommended from analysis
# Set to true and configure excluded hours if you want to filter trading times
BACKTEST_TIME_FILTER_ENABLED=false
BACKTEST_EXCLUDED_HOURS=1,2,12,18,21,23

# =============================================================================
# LIVE TRADING PARAMETERS
# =============================================================================

IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=1

# =============================================================================
# IBKR HISTORICAL DATA CHUNKING CONFIGURATION
# =============================================================================

IBKR_ENABLE_CHUNKING=true
IBKR_REQUEST_DELAY_SECONDS=10
IBKR_CHUNK_OVERLAP_MINUTES=0
