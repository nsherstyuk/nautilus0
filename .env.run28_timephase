# Time-of-Day Optimization Phase 3 - Run 28
# Performance: PnL=$9,022.48, Win Rate=54.03%
# Grid: logs/time_phase3_fixed

# Trading Parameters
BACKTEST_SYMBOL=EUR/USD
BACKTEST_VENUE=IDEALPRO
BACKTEST_BAR_SPEC=15-MINUTE-MID-EXTERNAL
BACKTEST_TRADE_SIZE=100000
BACKTEST_STARTING_CAPITAL=100000.0
CATALOG_PATH=data/historical
OUTPUT_DIR=logs/backtest_results
ENFORCE_POSITION_LIMIT=true
ALLOW_POSITION_REVERSAL=false

# Data Configuration
BACKTEST_START_DATE=2024-01-01
BACKTEST_END_DATE=2025-10-30
HISTORICAL_DATA_START=2023-01-01
DATA_DIR=./data/catalog

# Strategy Configuration
BACKTEST_FAST_PERIOD=40
BACKTEST_SLOW_PERIOD=260
STRATEGY_DMI_PERIOD=14
STRATEGY_ADX_SMOOTHING=14
STRATEGY_RSI_PERIOD=14
STRATEGY_STOCHASTIC_K_PERIOD=14
STRATEGY_STOCHASTIC_D_PERIOD=3
STRATEGY_ATR_PERIOD=14

# Strategy Filters
STRATEGY_DMI_FILTER_ENABLED=false
STRATEGY_DMI_THRESHOLD=20.0
STRATEGY_STOCHASTIC_FILTER_ENABLED=false
STRATEGY_STOCHASTIC_OVERBOUGHT=80
STRATEGY_STOCHASTIC_OVERSOLD=20
STRATEGY_RSI_FILTER_ENABLED=false
STRATEGY_RSI_OVERBOUGHT=70
STRATEGY_RSI_OVERSOLD=30
STRATEGY_ATR_FILTER_ENABLED=false
STRATEGY_ATR_THRESHOLD=0.0001

# Stop Loss & Take Profit - ATR Adaptive Mode
BACKTEST_ADAPTIVE_STOP_MODE=atr
BACKTEST_SL_ATR_MULT=2.0
BACKTEST_TP_ATR_MULT=2.5
BACKTEST_TRAIL_ACTIVATION_ATR_MULT=0.8
BACKTEST_TRAIL_DISTANCE_ATR_MULT=0.5

# Stop Loss & Take Profit - Fixed Mode Fallback
BACKTEST_STOP_LOSS_PIPS=25
BACKTEST_TAKE_PROFIT_PIPS=70
BACKTEST_TRAILING_STOP_ACTIVATION_PIPS=25
BACKTEST_TRAILING_STOP_DISTANCE_PIPS=20

# Regime Detection (Disabled for this run)
STRATEGY_REGIME_DETECTION_ENABLED=false
STRATEGY_REGIME_ADX_TRENDING_THRESHOLD=25.0
STRATEGY_REGIME_ADX_RANGING_THRESHOLD=20.0
STRATEGY_REGIME_TP_MULTIPLIER_TRENDING=1.0
STRATEGY_REGIME_TP_MULTIPLIER_RANGING=1.0
STRATEGY_REGIME_SL_MULTIPLIER_TRENDING=1.0
STRATEGY_REGIME_SL_MULTIPLIER_RANGING=1.0

# Time-of-Day Multipliers (Core optimization for this run)
STRATEGY_TIME_MULTIPLIER_ENABLED=true
STRATEGY_TIME_TP_MULTIPLIER_EU_MORNING=1.0
STRATEGY_TIME_TP_MULTIPLIER_US_SESSION=1.2
STRATEGY_TIME_TP_MULTIPLIER_OTHER=1.0
STRATEGY_TIME_SL_MULTIPLIER_EU_MORNING=0.8
STRATEGY_TIME_SL_MULTIPLIER_US_SESSION=1.0
STRATEGY_TIME_SL_MULTIPLIER_OTHER=1.2

# Time Filters
BACKTEST_TIME_FILTER_ENABLED=true
BACKTEST_EXCLUDED_HOURS=0,1,8,10,11,12,13,18,19,23
BACKTEST_EXCLUDED_HOURS_MODE=weekday
BACKTEST_EXCLUDED_HOURS_MONDAY=0,1,3,4,5,8,10,11,12,13,18,19,23
BACKTEST_EXCLUDED_HOURS_TUESDAY=0,1,2,4,5,6,7,8,9,10,11,12,13,18,19,23
BACKTEST_EXCLUDED_HOURS_WEDNESDAY=0,1,8,9,10,11,12,13,14,15,16,17,18,19,23
BACKTEST_EXCLUDED_HOURS_THURSDAY=0,1,2,7,8,10,11,12,13,14,18,19,22,23
BACKTEST_EXCLUDED_HOURS_FRIDAY=0,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,23
BACKTEST_EXCLUDED_HOURS_SUNDAY=0,1,8,10,11,12,13,18,19,21,22,23
BACKTEST_START_HOUR=0
BACKTEST_END_HOUR=23
BACKTEST_EXCLUDED_WEEKDAYS=

# Logging
LOG_LEVEL=INFO
